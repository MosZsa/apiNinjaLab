# Django Ninja API для расчёта калорийности блюд

API для автоматизированного расчёта калорийности и пищевой ценности рецептов на основе пользовательских ингредиентов.

Приложение демонстрирует использование Django + Django Ninja, авторизацию по сессиям и работу с моделями данных.

## О приложении

**API реализует следующие возможности:**

1. **Регистрация и авторизация пользователей** — работа с собственными данными через сессионную авторизацию.
2. **Добавление ингредиентов** — указание калорийности, белков, жиров и углеводов на 100 грамм продукта.
3. **Получение ингредиентов** — просмотр всех ингредиентов текущего пользователя или получение по ID.
4. **Удаление ингредиентов** — удаление ингредиента по его ID.
5. **Обновление ингредиентов** — изменение характеристик уже добавленного ингредиента.
6. **Создание рецептов** — формирование рецептов из набора ингредиентов с указанием количества.
7. **Получение информации о рецепте** — автоматический расчёт калорийности и БЖУ по ингредиентам и их весу.
8. **Удаление рецептов** — удаление рецепта по ID.
9. **Обновление рецептов** — изменение названия и состава рецепта (ингредиенты и их количество).
10. **Ограничение доступа** — каждый пользователь работает только со своими объектами.
11. **Поиск ингредиентов по названию** (`?search=яблоко`)
12. **Поиск рецептов по названию** (`?name=суп`)
13. **Фильтрация рецептов по калорийности** (`?min_calories=100&max_calories=500`)
14. **Сортировка рецептов по калорийности** (`?order_by=calories` или `-calories`)

## Как запустить

1. Установите зависимости:

```bash
pip install -r requirements.txt
```

2. Создайте и примените миграции:

```bash
python manage.py makemigrations
python manage.py migrate
```

3. Запустите сервер:

```bash
python manage.py runserver
```

4. Откройте документацию API:

```
http://127.0.0.1:8000/docs
```

## Запуск тестов

Для проверки функциональности покрываются сценарии регистрации, логина, CRUD-операций, а также защита от доступа к чужим данным.

**В терминале**:
```bash
python manage.py test
```

## Примеры запросов

**Ингредиенты (поиск):**

```
GET /api/ingredients?search=молоко
```

**Рецепты (фильтрация и сортировка):**

```
GET /api/recipes?min_calories=150&order_by=-calories
```

